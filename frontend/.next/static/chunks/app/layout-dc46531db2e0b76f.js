(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{1886:function(e,t,i){Promise.resolve().then(i.t.bind(i,6354,23)),Promise.resolve().then(i.bind(i,6530))},6530:function(e,t,i){"use strict";i.d(t,{Providers:function(){return Q}});var n=i(6287),r=i(9334);function s(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}var d=function e(t,i){function n(e,n,r){if("undefined"!=typeof document){"number"==typeof(r=s({},i,r)).expires&&(r.expires=new Date(Date.now()+864e5*r.expires)),r.expires&&(r.expires=r.expires.toUTCString()),e=encodeURIComponent(e).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var d="";for(var o in r)r[o]&&(d+="; "+o,!0!==r[o]&&(d+="="+r[o].split(";")[0]));return document.cookie=e+"="+t.write(n,e)+d}}return Object.create({set:n,get:function(e){if("undefined"!=typeof document&&(!arguments.length||e)){for(var i=document.cookie?document.cookie.split("; "):[],n={},r=0;r<i.length;r++){var s=i[r].split("="),d=s.slice(1).join("=");try{var o=decodeURIComponent(s[0]);if(n[o]=t.read(d,o),e===o)break}catch(e){}}return e?n[e]:n}},remove:function(e,t){n(e,"",s({},t,{expires:-1}))},withAttributes:function(t){return e(this.converter,s({},this.attributes,t))},withConverter:function(t){return e(s({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(i)},converter:{value:Object.freeze(t)}})}({read:function(e){return'"'===e[0]&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class o{constructor(e={}){let{path:t,domain:i,expires:n,sameSite:r,secure:s}=e;if(this.domain=i,this.path=t||"/",this.expires=Object.prototype.hasOwnProperty.call(e,"expires")?n:365,this.secure=!Object.prototype.hasOwnProperty.call(e,"secure")||s,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!r||!["strict","lax","none"].includes(r))throw Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===r&&!this.secure)throw Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=r}}async setItem(e,t){d.set(e,t,this.getData())}async getItem(e){return d.get(e)??null}async removeItem(e){d.remove(e,this.getData())}async clear(){let e=Object.keys(d.get()).map(e=>this.removeItem(e));await Promise.all(e)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}var a=i(1130),c=i(8842),u=i(7457),l=i(6605);i(9715),i(6761);var h=i(4498),y=i(694),I=i(2466),f=i(6665),g=i(8882),p=i(4257);let C="cognito-identity",m={service:C,retryDecider:(0,p.j)(I.f),computeDelay:g.k,cache:"no-store"};var v=i(3849);let w=(0,i(7055).V)(v.y,[()=>e=>async function(t){return t.headers["cache-control"]="no-store",e(t)}]),A=e=>(t,i)=>_(i,S(e),JSON.stringify(t)),S=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),_=({url:e},t,i)=>({headers:t,url:e,body:i,method:"POST"}),k=e=>(0,f.z)(w,A("GetCredentialsForIdentity"),x,{...m,...e,userAgentValue:(0,h.Zm)()}),x=async e=>{if(e.statusCode>=300)throw await (0,I.f)(e);let t=await (0,I.e)(e);return{IdentityId:t.IdentityId,Credentials:T(t.Credentials),$metadata:(0,y.B)(e)}},T=({Expiration:e,...t}={})=>({...t,Expiration:e&&new Date(1e3*e)});var P=i(2832),b=i(7523),E=i(235),K=i(2389),D=i(2036),O=i(9649),R=i(5999);let j=({region:e})=>({url:new R.a(`https://${C}.${e}.${(0,O.b)(e)}`)}),G=({endpointOverride:e})=>t=>e?{url:new R.a(e)}:j(t),V=e=>(0,f.z)(w,A("GetId"),F,{...m,...e,userAgentValue:(0,h.Zm)()}),F=async e=>{if(e.statusCode>=300)throw await (0,I.f)(e);return{IdentityId:(await (0,I.e)(e)).IdentityId,$metadata:(0,y.B)(e)}};function N(e){let t=(0,P.xp)(e).payload.iss,i={};if(!t)throw new b.l({name:"InvalidIdTokenException",message:"Invalid Idtoken."});return i[t.replace(/(^\w+:|^)\/\//,"")]=e,i}async function z({tokens:e,authConfig:t,identityIdStore:i}){i.setAuthConfig({Cognito:t});let n=await i.loadIdentityId();if(n)return n.id;let r=e?.idToken?N(e.idToken.toString()):{},s=await L(r,t);return i.storeIdentityId({id:s,type:e?"primary":"guest"}),s}async function L(e,t){let i;let n=t?.identityPoolId,r=(0,K.N)(n),s=V({endpointResolver:G({endpointOverride:t.identityPoolEndpoint})});try{i=(await s({region:r},{IdentityPoolId:n,Logins:e})).IdentityId}catch(e){throw(0,E.R)(e),new b.l(e)}if(!i)throw new b.l({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return i}let U=new l.k("CognitoCredentialsProvider");class ${constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){U.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){U.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){let t=e.authenticated,{tokens:i}=e,{authConfig:n}=e;try{(0,P.YE)(n?.Cognito)}catch{return}if(!t&&!n.Cognito.allowGuestAccess)return;let{forceRefresh:r}=e,s=this.hasTokenChanged(i),d=await z({tokens:i,authConfig:n.Cognito,identityIdStore:this._identityIdStore});return((r||s)&&this.clearCredentials(),t)?((0,D.Cg)(i),this.credsForOIDCTokens(n.Cognito,i,d)):this.getGuestCredentials(d,n.Cognito)}async getGuestCredentials(e,t){let i;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!1===this._credentialsAndIdentityId.isAuthenticatedCreds)return U.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let n=(0,K.N)(t.identityPoolId),r=k({endpointResolver:G({endpointOverride:t.identityPoolEndpoint})});try{i=await r({region:n},{IdentityId:e})}catch(e){throw(0,E.R)(e),new b.l(e)}if(i?.Credentials?.AccessKeyId&&i?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+3e6;let t={credentials:{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration},identityId:e};return i.IdentityId&&(t.identityId=i.IdentityId,this._identityIdStore.storeIdentityId({id:i.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...t,isAuthenticatedCreds:!1},t}throw new b.l({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(e,t,i){let n;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&!0===this._credentialsAndIdentityId.isAuthenticatedCreds)return U.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();let r=t.idToken?N(t.idToken.toString()):{},s=(0,K.N)(e.identityPoolId),d=k({endpointResolver:G({endpointOverride:e.identityPoolEndpoint})});try{n=await d({region:s},{IdentityId:i,Logins:r})}catch(e){throw(0,E.R)(e),new b.l(e)}if(n?.Credentials?.AccessKeyId&&n?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+3e6;let e={credentials:{accessKeyId:n.Credentials.AccessKeyId,secretAccessKey:n.Credentials.SecretKey,sessionToken:n.Credentials.SessionToken,expiration:n.Credentials.Expiration},identityId:i};return n.IdentityId&&(e.identityId=n.IdentityId,this._identityIdStore.storeIdentityId({id:n.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...e,isAuthenticatedCreds:!0,associatedIdToken:t.idToken?.toString()},e}throw new b.l({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return void 0===this._nextCredentialsRefresh||this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){return!!e&&!!this._credentialsAndIdentityId?.associatedIdToken&&e.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}}var B=i(7745);let Y={identityId:"identityId"},q=new l.k("DefaultIdentityIdStore");class H{setAuthConfig(e){(0,P.YE)(e.Cognito),this.authConfig=e,this._authKeys=M("Cognito",e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=e}async loadIdentityId(){(0,P.YE)(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{let e=await this.keyValueStorage.getItem(this._authKeys.identityId);if(e)return this._hasGuestIdentityId=!0,{id:e,type:"guest"};return null}}catch(e){return q.log("Error getting stored IdentityId.",e),null}}async storeIdentityId(e){(0,P.YE)(this.authConfig?.Cognito),"guest"===e.type?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=e.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}let M=(e,t)=>(0,B._X)(Y)(`com.amplify.${e}`,t),X=new $(new H(a.Fm));var Z=i(4523);let J={configure(e,t){let i=(0,u.h)(e),n=new o({sameSite:"lax"}),r=t?.ssr?n:a.Fm,s=t?.ssr?new $(new H(n)):X;if(!i.Auth||t?.Auth){c.d.configure(i,t);return}if(!c.d.libraryOptions.Auth){Z.D.setAuthConfig(i.Auth),Z.D.setKeyValueStorage(r),c.d.configure(i,{...t,Auth:{tokenProvider:Z.D,credentialsProvider:s}});return}if(t){let e=c.d.libraryOptions.Auth;void 0!==t.ssr&&(Z.D.setKeyValueStorage(r),e.credentialsProvider=s),c.d.configure(i,{Auth:e,...t});return}c.d.configure(i)},getConfig:()=>c.d.getConfig()};var W=i(5961);function Q(e){let{children:t}=e;return(0,r.useEffect)(()=>{J.configure({Auth:{Cognito:{userPoolId:"us-east-2_xjiSPphMX",userPoolClientId:"37o1i8m1gq2f2sit0jar7ho2s8"}}})},[]),(0,n.jsx)(W.H,{children:t})}},5961:function(e,t,i){"use strict";i.d(t,{H:function(){return h},a:function(){return y}});var n=i(6287),r=i(9334),s=i(9029),d=i(2365),o=i(221),a=i(9695),c=i(194),u=i(4085);let l=(0,r.createContext)(void 0);function h(e){let{children:t}=e,[i,h]=(0,r.useState)(null),[y,I]=(0,r.useState)(!0);async function f(){try{var e;let t=await (0,s.t)();h({userId:t.userId,email:(null===(e=t.signInDetails)||void 0===e?void 0:e.loginId)||""})}catch(e){h(null)}finally{I(!1)}}async function g(e,t){(await (0,d.z)({username:e,password:t})).isSignedIn&&await f()}async function p(e,t,i){await (0,o.y)({username:e,password:t,options:{userAttributes:{email:e,"custom:orgIds":i}}})}async function C(e,t){await (0,a._)({username:e,confirmationCode:t})}async function m(){await (0,c.w)(),h(null)}async function v(){try{var e,t;let i=await (0,u.y)();return(null===(t=i.tokens)||void 0===t?void 0:null===(e=t.accessToken)||void 0===e?void 0:e.toString())||null}catch(e){return null}}return(0,r.useEffect)(()=>{f()},[]),(0,n.jsx)(l.Provider,{value:{user:i,loading:y,signIn:g,signUp:p,confirmSignUp:C,signOut:m,getAccessToken:v},children:t})}function y(){let e=(0,r.useContext)(l);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},6354:function(){}},function(e){e.O(0,[993,572,975,731,744],function(){return e(e.s=1886)}),_N_E=e.O()}]);