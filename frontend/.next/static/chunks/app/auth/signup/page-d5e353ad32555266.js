(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{3861:function(e,t,a){Promise.resolve().then(a.bind(a,9664))},5184:function(e,t,a){"use strict";var r=a(2279);a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},9664:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var r=a(6287),s=a(9334),n=a(9908),u=a(5184),l=a(5961);function i(){let e=(0,u.useRouter)(),{signUp:t}=(0,l.a)(),[a,i]=(0,s.useState)(""),[o,c]=(0,s.useState)(""),[d,m]=(0,s.useState)(""),[f,h]=(0,s.useState)(""),[g,x]=(0,s.useState)(""),[b,y]=(0,s.useState)(!1),v=async r=>{if(r.preventDefault(),x(""),o!==d){x("Passwords do not match");return}if(o.length<12){x("Password must be at least 12 characters");return}y(!0);try{await t(a,o,f),e.push("/auth/verify?email="+encodeURIComponent(a))}catch(e){x(e instanceof Error?e.message:"Failed to create account. Please try again.")}finally{y(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,r.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Groundhog"}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"Create your account"})]}),g&&(0,r.jsx)("div",{className:"mb-4 p-4 bg-red-50 text-red-600 rounded-lg",children:g}),(0,r.jsxs)("form",{onSubmit:v,children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"orgName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Organization Name"}),(0,r.jsx)("input",{type:"text",id:"orgName",value:f,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,r.jsx)("input",{type:"email",id:"email",value:a,onChange:e=>i(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,r.jsx)("input",{type:"password",id:"password",value:o,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,minLength:12}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"At least 12 characters with uppercase, lowercase, numbers, and symbols"})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm Password"}),(0,r.jsx)("input",{type:"password",id:"confirmPassword",value:d,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsx)("button",{type:"submit",disabled:b,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Creating account...":"Create Account"})]}),(0,r.jsxs)("div",{className:"mt-4 text-center text-sm text-gray-600",children:["Already have an account?"," ",(0,r.jsx)(n.default,{href:"/auth/signin",className:"text-blue-600 hover:underline",children:"Sign in"})]})]})})}},5961:function(e,t,a){"use strict";a.d(t,{H:function(){return m},a:function(){return f}});var r=a(6287),s=a(9334),n=a(9029),u=a(2365),l=a(221),i=a(9695),o=a(194),c=a(4085);let d=(0,s.createContext)(void 0);function m(e){let{children:t}=e,[a,m]=(0,s.useState)(null),[f,h]=(0,s.useState)(!0);async function g(){try{var e;let t=await (0,n.t)();m({userId:t.userId,email:(null===(e=t.signInDetails)||void 0===e?void 0:e.loginId)||""})}catch(e){m(null)}finally{h(!1)}}async function x(e,t){(await (0,u.z)({username:e,password:t})).isSignedIn&&await g()}async function b(e,t,a){await (0,l.y)({username:e,password:t,options:{userAttributes:{email:e,"custom:orgIds":a}}})}async function y(e,t){await (0,i._)({username:e,confirmationCode:t})}async function v(){await (0,o.w)(),m(null)}async function p(){try{var e,t;let a=await (0,c.y)();return(null===(t=a.tokens)||void 0===t?void 0:null===(e=t.accessToken)||void 0===e?void 0:e.toString())||null}catch(e){return null}}return(0,s.useEffect)(()=>{g()},[]),(0,r.jsx)(d.Provider,{value:{user:a,loading:f,signIn:x,signUp:b,confirmSignUp:y,signOut:v,getAccessToken:p},children:t})}function f(){let e=(0,s.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[572,908,975,731,744],function(){return e(e.s=3861)}),_N_E=e.O()}]);