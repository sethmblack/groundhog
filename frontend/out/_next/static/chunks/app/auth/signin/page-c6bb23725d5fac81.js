(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98],{4977:function(e,t,n){Promise.resolve().then(n.bind(n,8072))},5184:function(e,t,n){"use strict";var s=n(2279);n.o(s,"useRouter")&&n.d(t,{useRouter:function(){return s.useRouter}}),n.o(s,"useSearchParams")&&n.d(t,{useSearchParams:function(){return s.useSearchParams}})},8072:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(6287),r=n(9334),a=n(9908),u=n(5184),i=n(5961);function l(){let e=(0,u.useRouter)(),{signIn:t}=(0,i.a)(),[n,l]=(0,r.useState)(""),[o,c]=(0,r.useState)(""),[d,m]=(0,r.useState)(""),[f,h]=(0,r.useState)(!1),x=async s=>{s.preventDefault(),m(""),h(!0);try{await t(n,o),e.push("/dashboard")}catch(e){m(e instanceof Error?e.message:"Invalid email or password")}finally{h(!1)}};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Groundhog"}),(0,s.jsx)("p",{className:"text-gray-600 mt-2",children:"Sign in to your account"})]}),d&&(0,s.jsx)("div",{className:"mb-4 p-4 bg-red-50 text-red-600 rounded-lg",children:d}),(0,s.jsxs)("form",{onSubmit:x,children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,s.jsx)("input",{type:"email",id:"email",value:n,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"password",value:o,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:f,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed",children:f?"Signing in...":"Sign In"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)(a.default,{href:"/auth/forgot-password",className:"text-sm text-blue-600 hover:underline",children:"Forgot your password?"})}),(0,s.jsxs)("div",{className:"mt-4 text-center text-sm text-gray-600",children:["Don't have an account?"," ",(0,s.jsx)(a.default,{href:"/auth/signup",className:"text-blue-600 hover:underline",children:"Sign up"})]})]})})}},5961:function(e,t,n){"use strict";n.d(t,{H:function(){return m},a:function(){return f}});var s=n(6287),r=n(9334),a=n(9029),u=n(2365),i=n(221),l=n(9695),o=n(194),c=n(4085);let d=(0,r.createContext)(void 0);function m(e){let{children:t}=e,[n,m]=(0,r.useState)(null),[f,h]=(0,r.useState)(!0);async function x(){try{var e;let t=await (0,a.t)();m({userId:t.userId,email:(null===(e=t.signInDetails)||void 0===e?void 0:e.loginId)||""})}catch(e){m(null)}finally{h(!1)}}async function g(e,t){(await (0,u.z)({username:e,password:t})).isSignedIn&&await x()}async function b(e,t,n){await (0,i.y)({username:e,password:t,options:{userAttributes:{email:e,"custom:orgIds":n}}})}async function v(e,t){await (0,l._)({username:e,confirmationCode:t})}async function y(){await (0,o.w)(),m(null)}async function p(){try{var e,t;let n=await (0,c.y)();return(null===(t=n.tokens)||void 0===t?void 0:null===(e=t.accessToken)||void 0===e?void 0:e.toString())||null}catch(e){return null}}return(0,r.useEffect)(()=>{x()},[]),(0,s.jsx)(d.Provider,{value:{user:n,loading:f,signIn:g,signUp:b,confirmSignUp:v,signOut:y,getAccessToken:p},children:t})}function f(){let e=(0,r.useContext)(d);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[572,908,975,731,744],function(){return e(e.s=4977)}),_N_E=e.O()}]);